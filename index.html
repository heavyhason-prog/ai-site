<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<title>AI GOD SYSTEM PRO</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700;900&display=swap" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/page-flip/dist/js/page-flip.browser.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>

<style>
body{
  margin:0;
  font-family:'Cairo',sans-serif;
  background:#020617;
  color:#fff;
  overflow:hidden;
}

#formScreen{
  position:fixed;
  inset:0;
  display:flex;
  flex-direction:column;
  justify-content:center;
  align-items:center;
  gap:10px;
}

input,textarea,select{
  width:340px;
  padding:12px;
  border-radius:12px;
  border:none;
}

button{
  padding:14px 36px;
  border:none;
  border-radius:14px;
  font-weight:900;
  cursor:pointer;
  background:linear-gradient(135deg,#00eaff,#7cff00);
}

#book{
  width:100vw;
  height:100vh;
  display:none;
}

.page{
  width:100%;
  height:100%;
  display:flex;
  justify-content:center;
  align-items:center;
  background-size:cover;
  background-position:center;
}

.text{
  width:90%;
  height:90%;
  background:rgba(0,0,0,0.45);
  backdrop-filter:blur(6px);
  border-radius:14px;
  padding:40px;
  display:flex;
  flex-direction:column;
  justify-content:center;
  align-items:center;
  text-align:center;
  font-size:24px;
}

#controls{
  position:fixed;
  bottom:20px;
  left:50%;
  transform:translateX(-50%);
  display:none;
  gap:10px;
}
</style>
</head>
<body>

<div id="formScreen">
<h2>AI GOD SYSTEM PRO ğŸ˜</h2>
<input id="title" placeholder="Ø¹Ù†ÙˆØ§Ù† Ø§Ù„ÙƒØªØ§Ø¨">
<button onclick="generateBook()">ØªØ´ØºÙŠÙ„</button>
</div>

<div id="controls">
<button onclick="exportPDF()">PDF</button>
<button onclick="location.reload()">Ø±Ø¬ÙˆØ¹</button>
</div>

<div id="book"></div>

<script>
function preloadImage(url){
  return new Promise(resolve=>{
    const img=new Image();
    img.onload=()=>resolve(url);
    img.onerror=()=>resolve("https://picsum.photos/1600/2400?random="+Math.random());
    img.src=url;
  });
}

async function generateBook(){
  const title=document.getElementById("title").value||"AI GOD BOOK";
  document.getElementById("formScreen").style.display="none";

  const book=document.getElementById("book");
  book.innerHTML="";

  // ØªØ­Ù…ÙŠÙ„ 10 ØµÙˆØ± Ù…Ø³Ø¨Ù‚Ø§Ù‹
  let images=[];
  for(let i=0;i<10;i++){
    let url=`https://picsum.photos/1600/2400?random=${i+1}`;
    images.push(await preloadImage(url));
  }

  // Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ØµÙØ­Ø§Øª Ø¨Ø¹Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙˆØ±
  for(let i=0;i<10;i++){
    book.innerHTML+=`
    <div class="page" style="background-image:url('${images[i]}')">
      <div class="text">
        <h2>${title}</h2>
        <p>ØµÙØ­Ø© Ø±Ù‚Ù… ${i+1}</p>
        <p>Ù…Ø­ØªÙˆÙ‰ Ø§Ø­ØªØ±Ø§ÙÙŠ + ØµÙˆØ± Ù…Ø¶Ù…ÙˆÙ†Ø© Ø§Ù„ØªØ­Ù…ÙŠÙ„ + Ø¨Ø¯ÙˆÙ† Ø§Ø®ØªÙØ§Ø¡</p>
      </div>
    </div>`;
  }

  book.style.display="block";
  document.getElementById("controls").style.display="flex";

  new St.PageFlip(book,{
    width:900,
    height:1400,
    size:"stretch",
    showCover:true
  }).loadFromHTML(document.querySelectorAll(".page"));
}

function exportPDF(){
  html2pdf().from(document.getElementById("book"))
  .set({filename:"AI_GOD_PRO_BOOK.pdf"})
  .save();
}
</script>

</body>
</html>
