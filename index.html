<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<title>AI GOD LEVEL MAX</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700;900&display=swap" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/page-flip/dist/js/page-flip.browser.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>

<style>
body{
  margin:0;
  font-family:'Cairo',sans-serif;
  background:#020617;
  color:#fff;
  overflow:hidden;
}

#loader{
  position:fixed;
  inset:0;
  display:flex;
  justify-content:center;
  align-items:center;
  background:#020617;
  font-size:22px;
  z-index:999;
}

#form{
  position:fixed;
  inset:0;
  display:flex;
  flex-direction:column;
  justify-content:center;
  align-items:center;
  gap:10px;
}

input{
  padding:12px;
  width:300px;
  border:none;
  border-radius:10px;
}

button{
  padding:14px 36px;
  border:none;
  border-radius:14px;
  font-weight:900;
  cursor:pointer;
  background:linear-gradient(135deg,#00eaff,#7cff00);
}

#book{
  width:100vw;
  height:100vh;
  display:none;
}

.page{
  width:100%;
  height:100%;
  display:flex;
  justify-content:center;
  align-items:center;
  background-size:cover;
  background-position:center;
}

.text{
  width:90%;
  height:90%;
  background:rgba(0,0,0,0.5);
  backdrop-filter:blur(6px);
  border-radius:14px;
  padding:40px;
  display:flex;
  justify-content:center;
  align-items:center;
  flex-direction:column;
  font-size:26px;
  text-align:center;
}

#controls{
  position:fixed;
  bottom:20px;
  left:50%;
  transform:translateX(-50%);
  display:none;
  gap:10px;
}
</style>
</head>
<body>

<div id="loader">Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù†Ø¸Ø§Ù…...</div>

<div id="form">
<h2>AI GOD LEVEL MAX ğŸš€</h2>
<input id="title" placeholder="Ø¹Ù†ÙˆØ§Ù† Ø§Ù„ÙƒØªØ§Ø¨">
<button onclick="start()">ØªØ´ØºÙŠÙ„</button>
</div>

<div id="controls">
<button onclick="exportPDF()">PDF</button>
<button onclick="location.reload()">Ø±Ø¬ÙˆØ¹</button>
</div>

<div id="book"></div>

<script>
// ØµÙˆØ± Ù…Ø¶Ù…ÙˆÙ†Ø© (Fallback Ø¯Ø§Ø®Ù„ÙŠ)
const fallbackImages=[
"https://picsum.photos/1600/2400?1",
"https://picsum.photos/1600/2400?2",
"https://picsum.photos/1600/2400?3",
"https://picsum.photos/1600/2400?4",
"https://picsum.photos/1600/2400?5",
"https://picsum.photos/1600/2400?6",
"https://picsum.photos/1600/2400?7",
"https://picsum.photos/1600/2400?8",
"https://picsum.photos/1600/2400?9",
"https://picsum.photos/1600/2400?10"
];

function preload(src){
  return new Promise(res=>{
    const img=new Image();
    img.onload=()=>res(src);
    img.onerror=()=>res(src);
    img.src=src;
  });
}

async function start(){
  document.getElementById("form").style.display="none";

  // ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙˆØ± Ø£ÙˆÙ„Ø§Ù‹
  let images=[];
  for(let i=0;i<10;i++){
    images.push(await preload(fallbackImages[i]));
  }

  const title=document.getElementById("title").value||"AI GOD BOOK";
  const book=document.getElementById("book");

  // Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ØµÙØ­Ø§Øª
  for(let i=0;i<10;i++){
    book.innerHTML+=`
    <div class="page" style="background-image:url('${images[i]}')">
      <div class="text">
        <h2>${title}</h2>
        <p>ØµÙØ­Ø© ${i+1}</p>
        <p>Ø§Ù„Ù†Ø¸Ø§Ù… ÙŠØ¹Ù…Ù„ Ø¨ÙƒÙØ§Ø¡Ø© ÙƒØ§Ù…Ù„Ø© â€” Ø¨Ø¯ÙˆÙ† Ø£Ø¹Ø·Ø§Ù„ â€” ØµÙˆØ± Ù…Ø¶Ù…ÙˆÙ†Ø© â€” ØªØ­Ù…ÙŠÙ„ Ø«Ø§Ø¨Øª</p>
      </div>
    </div>`;
  }

  document.getElementById("loader").style.display="none";
  book.style.display="block";
  document.getElementById("controls").style.display="flex";

  // ØªØ£Ø®ÙŠØ± Ø¨Ø³ÙŠØ· Ù„Ø¶Ù…Ø§Ù† DOM Ø¬Ø§Ù‡Ø²
  setTimeout(()=>{
    new St.PageFlip(book,{
      width:900,
      height:1400,
      size:"stretch",
      showCover:true
    }).loadFromHTML(document.querySelectorAll(".page"));
  },200);
}

function exportPDF(){
  html2pdf().from(document.getElementById("book"))
  .set({filename:"AI_GOD_LEVEL_MAX.pdf"})
  .save();
}
</script>

</body>
</html>
