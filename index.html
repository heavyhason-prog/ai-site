<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>OMEGA FINAL BROCHURE</title>

<link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700;900&display=swap" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/page-flip/dist/js/page-flip.browser.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>

<style>
body{margin:0;font-family:'Cairo',sans-serif;background:#0b1f2a;color:#fff}
section{display:none;padding:20px;max-width:950px;margin:auto}
section.active{display:block}
input,textarea,select,button{width:100%;padding:12px;border:none;border-radius:12px;margin-bottom:10px}
button{background:#22d3ee;font-weight:900;cursor:pointer}

#book{margin:auto;width:400px;height:640px}

.page{position:relative;border-radius:18px;overflow:hidden;background:#123}
.page img{position:absolute;inset:0;width:100%;height:100%;object-fit:cover}
.page::after{content:"";position:absolute;inset:0;background:linear-gradient(to top,rgba(0,0,0,.85),rgba(0,0,0,.2))}
.content{position:absolute;bottom:0;padding:20px;z-index:2;font-size:15px;line-height:2}

.cover{display:flex;align-items:center;justify-content:center;text-align:center}
.cover::after{display:none}
</style>
</head>

<body>

<section id="home" class="active">
<h2>ğŸš€ OMEGA FINAL SYSTEM</h2>
<button onclick="show('form')">Ø§Ø¨Ø¯Ø£</button>
</section>

<section id="form">
<select id="type">
<option value="school">ğŸ« Ù…Ø¯Ø±Ø³Ø©</option>
<option value="company">ğŸ¢ Ø´Ø±ÙƒØ©</option>
<option value="tech">ğŸ’» ØªÙ‚Ù†ÙŠØ©</option>
<option value="games">ğŸ® Ø£Ù„Ø¹Ø§Ø¨</option>
</select>

<input id="name" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ø¤Ø³Ø³Ø©">
<textarea id="about" placeholder="Ù†Ø¨Ø°Ø©"></textarea>
<button onclick="generate()">Ø¥Ù†Ø´Ø§Ø¡</button>
</section>

<section id="result">
<div id="book"></div>
<button onclick="downloadPDF()">PDF</button>
<button onclick="autoFlip()">Ø¹Ø±Ø¶ ØªÙ„Ù‚Ø§Ø¦ÙŠ</button>
<button onclick="show('form')">Ø±Ø¬ÙˆØ¹</button>
</section>

<script>
let flip;

function show(id){
document.querySelectorAll("section").forEach(s=>s.classList.remove("active"));
document.getElementById(id).classList.add("active");
}

/* ===== ØµÙˆØ± Ù…Ø¹ fallback ===== */
function imageSafe(i,type){
const keys={
school:"school classroom students",
company:"business office company",
tech:"technology computer ai",
games:"gaming video game"
}[type];

return `
https://picsum.photos/900/1200?random=${i}&blur=0
`;
}

/* ===== Ù†Øµ Ø¨Ø¯ÙˆÙ† ØªÙƒØ±Ø§Ø± ===== */
function smartText(name,type,count=30){
const words1=["Ù…ØªÙ‚Ø¯Ù…Ø©","Ø§Ø­ØªØ±Ø§ÙÙŠØ©","Ø­Ø¯ÙŠØ«Ø©","Ù…Ø¨ØªÙƒØ±Ø©","Ø±Ù‚Ù…ÙŠØ©","Ø°ÙƒÙŠØ©","Ù‚ÙˆÙŠØ©","Ù…ØªØ·ÙˆØ±Ø©"];
const words2=["Ø§Ù„Ø¬ÙˆØ¯Ø©","Ø§Ù„Ø§Ø¨ØªÙƒØ§Ø±","Ø§Ù„ØªØ·ÙˆÙŠØ±","Ø§Ù„Ø§Ø³ØªØ¯Ø§Ù…Ø©","Ø§Ù„ØªÙ…ÙŠØ²","Ø§Ù„Ø¥Ø¨Ø¯Ø§Ø¹","Ø§Ù„Ù†Ø¬Ø§Ø­","Ø§Ù„Ù‚ÙŠØ§Ø¯Ø©"];
const words3=["Ø¨ÙŠØ¦Ø© Ù…Ø­ÙØ²Ø©","Ù…Ù†Ø¸ÙˆÙ…Ø© Ù…ØªÙƒØ§Ù…Ù„Ø©","Ø±Ø¤ÙŠØ© Ù…Ø³ØªÙ‚Ø¨Ù„ÙŠØ©","Ø£Ø¯Ø§Ø¡ Ø¹Ø§Ù„ÙŠ","ØªØ¬Ø±Ø¨Ø© ÙØ±ÙŠØ¯Ø©","Ù‚ÙŠÙ…Ø© Ù…Ø¶Ø§ÙØ©"];

let arr=[];
for(let i=0;i<count;i++){
let a=words1[i%words1.length];
let b=words2[(i+2)%words2.length];
let c=words3[(i+3)%words3.length];

arr.push(`${name} ØªÙ‚Ø¯Ù… Ù…Ù†Ø¸ÙˆÙ…Ø© ${a} ØªØ¹ØªÙ…Ø¯ Ø¹Ù„Ù‰ ${b} Ø§Ù„Ù…Ø³ØªÙ…Ø±ØŒ ÙˆØªÙ‡Ø¯Ù Ø¥Ù„Ù‰ Ø¨Ù†Ø§Ø¡ ${c} ØªØ­Ù‚Ù‚ Ø£ÙØ¶Ù„ Ø§Ù„Ù†ØªØ§Ø¦Ø¬ ÙˆØªØ¯Ø¹Ù… Ø§Ù„Ø¥Ø¨Ø¯Ø§Ø¹ ÙˆØ§Ù„ØªÙ…ÙŠØ² Ø¶Ù…Ù† Ø¥Ø·Ø§Ø± Ø­Ø¯ÙŠØ« ÙˆÙ…ØªÙˆØ§Ø²Ù† ÙŠÙˆØ§ÙƒØ¨ Ø§Ù„ØªØ·ÙˆØ±.`);
}
return arr;
}

function generate(){
let nameVal=name.value||"Ø§Ù„Ù…Ø¤Ø³Ø³Ø©";
let aboutVal=about.value||"Ù†Ø¨Ø°Ø© ØªØ¹Ø±ÙŠÙÙŠØ©";
let typeVal=type.value;

let texts=smartText(nameVal,typeVal,30);
book.innerHTML="";

/* Ø§Ù„ØºÙ„Ø§Ù */
book.innerHTML+=`
<div class="page cover">
<div>
<h1>${nameVal}</h1>
<p>${aboutVal}</p>
</div>
</div>`;

/* Ø§Ù„ØµÙØ­Ø§Øª */
for(let i=1;i<=30;i++){
book.innerHTML+=`
<div class="page">
<img src="${imageSafe(i,typeVal)}" onerror="this.src='https://picsum.photos/900/1200?random=${i+100}'">
<div class="content">
<h3>${nameVal}</h3>
<p>${texts[i-1]}</p>
</div>
</div>`;
}

show("result");

setTimeout(()=>{
if(flip)flip.destroy();
flip=new St.PageFlip(book,{width:400,height:640,showCover:true});
flip.loadFromHTML(document.querySelectorAll(".page"));
},300);
}

function downloadPDF(){
html2pdf().from(book).save("OMEGA-FINAL.pdf");
}

function autoFlip(){
let i=0;
let t=setInterval(()=>{
if(i>=30){clearInterval(t);return;}
flip.flipNext();
i++;
},900);
}
</script>

</body>
</html>
