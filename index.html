<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<title>AI SINGULARITY âˆâˆâˆâˆ</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700;900&display=swap" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/page-flip/dist/js/page-flip.browser.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>

<style>
body{
margin:0;
font-family:Cairo;
background:#020617;
color:#fff;
overflow:hidden;
}

/* Glow */
body::before{
content:"";
position:fixed;
inset:0;
background:radial-gradient(circle at var(--x,50%) var(--y,50%),rgba(0,245,255,.25),transparent 40%);
pointer-events:none;
}

#panel{
position:fixed;
right:0;
top:0;
width:320px;
height:100%;
background:#020617;
padding:20px;
overflow:auto;
z-index:5;
box-shadow:-5px 0 25px rgba(0,0,0,.4);
}

input,textarea,button{
width:100%;
margin:6px 0;
padding:12px;
border:none;
border-radius:10px;
font-family:Cairo;
}

button{
background:linear-gradient(90deg,#00f5ff,#00ff9c);
font-weight:900;
cursor:pointer;
}

#bookWrap{
position:absolute;
left:0;
top:0;
width:calc(100% - 320px);
height:100%;
display:flex;
justify-content:center;
align-items:center;
}

#book{width:900px;height:600px}

.page{
background:#fff;
color:#111;
display:flex;
border-radius:14px;
overflow:hidden;
}

.page img{
width:50%;
height:100%;
object-fit:cover;
}

.page .text{
width:50%;
padding:25px;
line-height:1.9;
font-size:18px;
}
</style>
</head>

<body>

<div id="panel">
<h2>ğŸ¤– AI SINGULARITY</h2>

<input id="name" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ø´Ø±ÙˆØ¹">
<textarea id="idea" placeholder="ÙÙƒØ±Ø© Ø§Ù„Ù…Ø´Ø±ÙˆØ¹"></textarea>
<input type="file" id="imgs" multiple accept="image/*">

<button onclick="generate()">âš¡ ØªÙˆÙ„ÙŠØ¯ AI</button>
<button onclick="book.flipPrev()">â¬…ï¸</button>
<button onclick="book.flipNext()">â¡ï¸</button>
<button onclick="speak()">ğŸ¤ Ù‚Ø±Ø§Ø¡Ø©</button>
<button onclick="downloadPDF()">ğŸ“„ PDF</button>
<button onclick="recordVideo()">ğŸ¬ ÙÙŠØ¯ÙŠÙˆ</button>
</div>

<div id="bookWrap"><div id="book"></div></div>

<script>
let book;
let uploaded=[];

/* Glow */
document.addEventListener("mousemove",e=>{
document.body.style.setProperty("--x",e.clientX+"px");
document.body.style.setProperty("--y",e.clientY+"px");
});

/* Upload */
imgs.onchange=e=>{
uploaded=[];
[...e.target.files].forEach(f=>{
let r=new FileReader();
r.onload=()=>uploaded.push(r.result);
r.readAsDataURL(f);
});
};

/* AI text */
function aiText(name,idea){
return {
about:`${name} Ù‡Ùˆ Ù…Ø´Ø±ÙˆØ¹ Ù…Ø¨ØªÙƒØ± ÙŠÙ‡Ø¯Ù Ø¥Ù„Ù‰ ${idea||"ØªÙ‚Ø¯ÙŠÙ… Ø­Ù„ÙˆÙ„ Ø°ÙƒÙŠØ© Ù…ØªØ·ÙˆØ±Ø©"} Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø£Ø­Ø¯Ø« Ø§Ù„ØªÙ‚Ù†ÙŠØ§Øª ÙˆØªÙˆÙÙŠØ± ØªØ¬Ø±Ø¨Ø© Ø§Ø­ØªØ±Ø§ÙÙŠØ© Ù…ØªÙƒØ§Ù…Ù„Ø©.`,
why:`Ù†ØªÙ…ÙŠØ² Ø¨Ø§Ù„Ø¥Ø¨Ø¯Ø§Ø¹ ÙˆØ§Ù„Ø§Ø¨ØªÙƒØ§Ø± ÙˆØ§Ù„Ø¬ÙˆØ¯Ø© Ø§Ù„Ø¹Ø§Ù„ÙŠØ© ÙˆÙØ±ÙŠÙ‚ Ø§Ø­ØªØ±Ø§ÙÙŠ ÙŠØ³Ø¹Ù‰ Ø¯Ø§Ø¦Ù…Ø§Ù‹ Ù„ØªØ­Ù‚ÙŠÙ‚ Ø£ÙØ¶Ù„ Ø§Ù„Ù†ØªØ§Ø¦Ø¬.`,
services:`Ù†Ù‚Ø¯Ù… Ø®Ø¯Ù…Ø§Øª Ù…ØªÙ‚Ø¯Ù…Ø© ØªØ´Ù…Ù„ Ø§Ù„Ø¬ÙˆØ¯Ø©ØŒ Ø§Ù„Ø³Ø±Ø¹Ø©ØŒ Ø§Ù„Ø§Ø¨ØªÙƒØ§Ø±ØŒ ÙˆØ§Ù„Ø¯Ø¹Ù… Ø§Ù„Ù…Ø³ØªÙ…Ø± Ù„ØªØ­Ù‚ÙŠÙ‚ Ø±Ø¶Ø§ Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡.`,
vision:`Ù†Ø³Ø¹Ù‰ Ù„Ø£Ù† ÙŠÙƒÙˆÙ† ${name} Ø±Ø§Ø¦Ø¯Ø§Ù‹ ÙÙŠ Ù…Ø¬Ø§Ù„Ù‡ ÙˆØ£Ù† ÙŠØ­Ù‚Ù‚ ØªØ£Ø«ÙŠØ±Ø§Ù‹ Ø­Ù‚ÙŠÙ‚ÙŠØ§Ù‹ ÙˆÙ…Ø³ØªØ¯Ø§Ù…Ø§Ù‹ ÙÙŠ Ø§Ù„Ù…Ø³ØªÙ‚Ø¨Ù„.`
};
}

/* TYPEWRITER */
function typeText(el,text,speed=18){
el.innerHTML="";
let i=0;
function t(){
if(i<text.length){
el.innerHTML+=text.charAt(i);
i++;
setTimeout(t,speed);
}
}
t();
}

function page(title,img){
return `<div class="page">
<img src="${img}">
<div class="text">
<h2>${title}</h2>
<p class="type"></p>
</div>
</div>`;
}

function generate(){

let n=name.value||"Ù…Ø´Ø±ÙˆØ¹ÙŠ Ø§Ù„Ø°ÙƒÙŠ";
let ideaTxt=idea.value;
let ai=aiText(n,ideaTxt);

let images=uploaded.length?uploaded:[
"https://images.unsplash.com/photo-1522202176988-66273c2fd55f",
"https://images.unsplash.com/photo-1507679799987-c73779587ccf",
"https://images.unsplash.com/photo-1521737604893-d14cc237f11d",
"https://images.unsplash.com/photo-1556740749-887f6717d7e4"
];

let pagesHTML="";
pagesHTML+=page(n,images[0]);
pagesHTML+=page("Ù„Ù…Ø§Ø°Ø§ Ù†Ø­Ù†",images[1%images.length]);
pagesHTML+=page("Ø§Ù„Ø®Ø¯Ù…Ø§Øª",images[2%images.length]);
pagesHTML+=page("Ø±Ø¤ÙŠØªÙ†Ø§",images[3%images.length]);

book.innerHTML=pagesHTML;

if(bookFlip) bookFlip.destroy();
bookFlip=new St.PageFlip(book,{width:450,height:600,showCover:true});
bookFlip.loadFromHTML(document.querySelectorAll(".page"));

/* TYPE TEXT AFTER LOAD */
setTimeout(()=>{
let texts=[ai.about,ai.why,ai.services,ai.vision];
document.querySelectorAll(".type").forEach((el,i)=>{
typeText(el,texts[i]);
});
},600);
}

/* Voice */
function speak(){
let msg=new SpeechSynthesisUtterance(document.body.innerText);
msg.lang="ar-SA";
speechSynthesis.speak(msg);
}

/* PDF */
function downloadPDF(){
html2pdf().from(book).save("SINGULARITY.pdf");
}

/* Video */
async function recordVideo(){
let s=await navigator.mediaDevices.getDisplayMedia({video:true});
let r=new MediaRecorder(s),d=[];
r.ondataavailable=e=>d.push(e.data);
r.onstop=()=>{
let b=new Blob(d,{type:"video/webm"});
let a=document.createElement("a");
a.href=URL.createObjectURL(b);
a.download="SINGULARITY.webm";
a.click();
};
r.start();setTimeout(()=>r.stop(),8000);
}
</script>

</body>
</html>
